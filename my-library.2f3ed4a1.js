!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequire4cd5;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},e.parcelRequire4cd5=n);var i=n("dNYR7"),a=n("aYvV9"),o=n("5rOqX");var c=function(e){S.cardHolderLibrary.innerHTML=e.map((function(e){var t=e.id,r=e.poster_path,n=e.name,i=e.title,a=e.release_date,c=e.genres,s=e.original_language;return'\n    <li class="film__item" id="'.concat(t,'">\n      <a class="film__item__link">').concat((0,o.getMarkupImgPoster)(s,r,n,i),"\n        <h2>").concat((0,o.getShortName)(i||n),"</h2>\n        <p> ").concat((0,o.getGenresByID)(c)," | ").concat((0,o.getYear)(a),'</p>\n        <button class="film__trailer-btn" type="button">Trailer \n          <span class="film__trailer-btn">&#9654;</span>\n        </button>\n      </a>\n    </li>')})).join("")},s=n("jcFG7"),d="movies-watched",l="movies-queue",u=document.querySelector(".empty__page"),y=document.querySelector(".empty__page-text"),m=1,g=18;function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e&&(m=e),u.classList.add("is-hidden"),y.classList.add("is-hidden"),(0,a.spinner)();var t=JSON.parse(localStorage.getItem(d));(null==t?void 0:t.length)?h(t):(u.classList.remove("is-hidden"),y.classList.remove("is-hidden"),(0,a.spinnerRemove)())}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e&&(m=e),u.classList.add("is-hidden"),y.classList.add("is-hidden"),(0,a.spinner)();var t=JSON.parse(localStorage.getItem(l));(null==t?void 0:t.length)?h(t):(u.classList.remove("is-hidden"),y.classList.remove("is-hidden"),(0,a.spinnerRemove)())}function h(e){var t=null;e.length<=g&&(c(e),(0,a.spinnerRemove)()),t=e.length%g?Math.floor(e.length/g)+1:e.length/g,m===t?(c(e.slice(m*g-g,e.length)),(0,a.spinnerRemove)()):(c(e.slice(m*g-g,m*g)),(0,a.spinnerRemove)()),(0,s.getPagination)(m,t,!0)}var L=n("dWD7p"),f=n("3ozO0"),v=n("1Gwk9");n("78qpV");a=n("aYvV9");var p=n("ghnK3"),S={topButton:document.querySelector(".btn_top"),body:document.querySelector("body"),cardHolderLibrary:document.querySelector(".card-holder"),footerLink:document.querySelector(".footer__link"),stickyHeaderMyLibrary:document.querySelector(".js-my-library-header__sticky"),watchedBtn:document.querySelector(".js-watched"),queuedBtn:document.querySelector(".js-queue"),watchedBtnSticky:document.querySelector(".js-watched__sticky"),queuedBtnSticky:document.querySelector(".js-queue__sticky"),movieModal:document.querySelector(".js-movie-modal"),pagination:document.querySelector(".pagination__container")},k=(window.onscroll=function(){window.pageYOffset>200?S.stickyHeaderMyLibrary.classList.add("my-library-header__sticky"):S.stickyHeaderMyLibrary.remove("my-library-header__sticky")},new(0,i.default));function q(e){console.log(e.target),e.target.classList.contains("my-library-header__button--current")||(S.watchedBtn.classList.add("my-library-header__button--current"),S.queuedBtn.classList.remove("my-library-header__button--current"),S.watchedBtnSticky.classList.add("my-library-header__button--current"),S.queuedBtnSticky.classList.remove("my-library-header__button--current"),S.cardHolderLibrary.innerHTML="",S.pagination.innerHTML="",(0,L.onSubmitScroll)(),b(1))}function w(e){e.target.classList.contains("my-library-header__button--current")||(S.queuedBtn.classList.add("my-library-header__button--current"),S.watchedBtn.classList.remove("my-library-header__button--current"),S.queuedBtnSticky.classList.add("my-library-header__button--current"),S.watchedBtnSticky.classList.remove("my-library-header__button--current"),S.cardHolderLibrary.innerHTML="",S.pagination.innerHTML="",(0,L.onSubmitScroll)(),_(1))}S.topButton.addEventListener("click",L.onSubmitScroll),S.cardHolderLibrary.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;if(e.target.classList.contains("film__trailer-btn"))return f.default.showTrailer(e.target.closest("li").id);k.movieId=e.target.closest("li").id,(0,a.spinner)(),k.fetchById().then((function(e){(0,v.default)(e.data),(0,a.spinnerRemove)()}))})),S.watchedBtn.addEventListener("click",q),S.queuedBtn.addEventListener("click",w),S.movieModal.addEventListener("click",(function(e){var t=document.querySelector(".pagination__item--current");if(e.target.classList.contains("add-watched")||S.watchedBtn.classList.contains("my-library-header__button--current")){var r=S.cardHolderLibrary.children.length;S.cardHolderLibrary.innerHTML="",b(Number(t&&1===r?t.id-1:0))}if(e.target.classList.contains("add-queue")||S.queuedBtn.classList.contains("my-library-header__button--current")){var n=S.cardHolderLibrary.children.length;S.cardHolderLibrary.innerHTML="",_(Number(t&&1===n?t.id-1:0))}})),S.watchedBtnSticky.addEventListener("click",q),S.queuedBtnSticky.addEventListener("click",w),S.pagination.addEventListener("click",(function(e){if(e.target===e.currentTarget||"UL"===e.target.nodeName)return;var t=null;if("svg"===e.target.nodeName||"BUTTON"===e.target.nodeName||"path"===e.target.nodeName)if(e.target.closest("button").classList.contains("pagination__left-btn")&&e.target.closest("button").classList.contains("on"))t=Number(currentPagination.id)-1;else{if(!e.target.closest("button").classList.contains("pagination__right-btn")||!e.target.closest("button").classList.contains("on"))return;t=Number(currentPagination.id)+1}else if(isNaN(e.target.closest("li").id))if("+"===e.target.closest("li").id)t=Number(currentPagination.id)+3;else{if("-"!==e.target.closest("li").id)return;t=Number(currentPagination.id)-3}else t=Number(e.target.closest("li").id);S.watchedBtn.classList.contains("my-library-header__button--current")?((0,L.onSubmitScroll)(),b(t)):((0,L.onSubmitScroll)(),_(t))})),S.footerLink.addEventListener("click",p.onOpenTeamModal),b()}();
//# sourceMappingURL=my-library.2f3ed4a1.js.map
