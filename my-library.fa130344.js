var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequire4cd5;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,r.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequire4cd5=r);var i=r("cTOKP"),a=r("2Dfe2"),o=r("iVxrX");function s(e){f.cardHolderLibrary.innerHTML=e.map((({id:e,poster_path:t,name:n,title:r,release_date:i,genres:a,original_language:s})=>`\n    <li class="film__item" id="${e}">\n      <a class="film__item__link">${(0,o.getMarkupImgPoster)(s,t,n,r)}\n        <h2>${(0,o.getShortName)(r||n)}</h2>\n        <p> ${(0,o.getGenresByID)(a)} | ${(0,o.getYear)(i)}</p>\n        <button class="film__trailer-btn" type="button">Trailer \n          <span class="film__trailer-btn">&#9654;</span>\n        </button>\n      </a>\n    </li>`)).join("")}var c=r("2nhTy");const l=document.querySelector(".empty__page"),d=document.querySelector(".empty__page-text");let u=1;function y(e=0){e&&(u=e),l.classList.add("is-hidden"),d.classList.add("is-hidden"),(0,a.spinner)();const t=JSON.parse(localStorage.getItem("movies-watched"));(null==t?void 0:t.length)?b(t):(l.classList.remove("is-hidden"),d.classList.remove("is-hidden"),(0,a.spinnerRemove)())}function m(e=0){e&&(u=e),l.classList.add("is-hidden"),d.classList.add("is-hidden"),(0,a.spinner)();const t=JSON.parse(localStorage.getItem("movies-queue"));(null==t?void 0:t.length)?b(t):(l.classList.remove("is-hidden"),d.classList.remove("is-hidden"),(0,a.spinnerRemove)())}function b(e){let t=null;e.length<=18&&(s(e),(0,a.spinnerRemove)()),t=e.length%18?Math.floor(e.length/18)+1:e.length/18,u===t?(s(e.slice(18*u-18,e.length)),(0,a.spinnerRemove)()):(s(e.slice(18*u-18,18*u)),(0,a.spinnerRemove)()),(0,c.getPagination)(u,t,!0)}var g=r("ka9Wh"),_=r("422V3"),h=r("eAoKO"),L=(a=r("2Dfe2"),r("baGT8"));const f={topButton:document.querySelector(".btn_top"),body:document.querySelector("body"),cardHolderLibrary:document.querySelector(".card-holder"),footerLink:document.querySelector(".footer__link"),stickyHeaderMyLibrary:document.querySelector(".js-my-library-header__sticky"),watchedBtn:document.querySelector(".js-watched"),queuedBtn:document.querySelector(".js-queue"),watchedBtnSticky:document.querySelector(".js-watched__sticky"),queuedBtnSticky:document.querySelector(".js-queue__sticky"),movieModal:document.querySelector(".js-movie-modal"),pagination:document.querySelector(".pagination__container")},p=(window.onscroll=function(){window.pageYOffset>200?f.stickyHeaderMyLibrary.classList.add("my-library-header__sticky"):f.stickyHeaderMyLibrary.remove("my-library-header__sticky")},new(0,i.default));function v(e){console.log(e.target),e.target.classList.contains("my-library-header__button--current")||(f.watchedBtn.classList.add("my-library-header__button--current"),f.queuedBtn.classList.remove("my-library-header__button--current"),f.watchedBtnSticky.classList.add("my-library-header__button--current"),f.queuedBtnSticky.classList.remove("my-library-header__button--current"),f.cardHolderLibrary.innerHTML="",f.pagination.innerHTML="",(0,g.onSubmitScroll)(),y(1))}function S(e){e.target.classList.contains("my-library-header__button--current")||(f.queuedBtn.classList.add("my-library-header__button--current"),f.watchedBtn.classList.remove("my-library-header__button--current"),f.queuedBtnSticky.classList.add("my-library-header__button--current"),f.watchedBtnSticky.classList.remove("my-library-header__button--current"),f.cardHolderLibrary.innerHTML="",f.pagination.innerHTML="",(0,g.onSubmitScroll)(),m(1))}f.topButton.addEventListener("click",g.onSubmitScroll),f.cardHolderLibrary.addEventListener("click",(function(e){if(e.target===e.currentTarget)return;if(e.target.classList.contains("film__trailer-btn"))return h.default.showTrailer(e.target.closest("li").id);p.movieId=e.target.closest("li").id,(0,a.spinner)(),p.fetchById().then((e=>{(0,_.showModal)(e.data),(0,a.spinnerRemove)()}))})),f.watchedBtn.addEventListener("click",v),f.queuedBtn.addEventListener("click",S),f.movieModal.addEventListener("click",(function(e){const t=document.querySelector(".pagination__item--current");if(e.target.classList.contains("add-watched")||f.watchedBtn.classList.contains("my-library-header__button--current")){const e=f.cardHolderLibrary.children.length;f.cardHolderLibrary.innerHTML="",y(Number(t&&1===e?t.id-1:0))}if(e.target.classList.contains("add-queue")||f.queuedBtn.classList.contains("my-library-header__button--current")){const e=f.cardHolderLibrary.children.length;f.cardHolderLibrary.innerHTML="",m(Number(t&&1===e?t.id-1:0))}})),f.watchedBtnSticky.addEventListener("click",v),f.queuedBtnSticky.addEventListener("click",S),f.pagination.addEventListener("click",(function(e){if(e.target===e.currentTarget||"UL"===e.target.nodeName)return;let t=null;if("svg"===e.target.nodeName||"BUTTON"===e.target.nodeName||"path"===e.target.nodeName)if(e.target.closest("button").classList.contains("pagination__left-btn")&&e.target.closest("button").classList.contains("on"))t=Number(currentPagination.id)-1;else{if(!e.target.closest("button").classList.contains("pagination__right-btn")||!e.target.closest("button").classList.contains("on"))return;t=Number(currentPagination.id)+1}else if(isNaN(e.target.closest("li").id))if("+"===e.target.closest("li").id)t=Number(currentPagination.id)+3;else{if("-"!==e.target.closest("li").id)return;t=Number(currentPagination.id)-3}else t=Number(e.target.closest("li").id);f.watchedBtn.classList.contains("my-library-header__button--current")?((0,g.onSubmitScroll)(),y(t)):((0,g.onSubmitScroll)(),m(t))})),f.footerLink.addEventListener("click",L.onOpenTeamModal),y();
//# sourceMappingURL=my-library.fa130344.js.map
